Request,Content,Resource,Request Requirements,Server Requirements,Response Requirements,Protocol Operation
*,*,*,MAY specify `Authorization` and `On-Behalf-Of` headers (i.e. if authenticating this request),"If `Authorization` (and optionally `On-Behalf-Of`) headers are provided, MUST authenticate the request","If authentication fails, MUST respond with a `403`",
Retrieve,*,Service-URL,,,"If `Authorization` (and optionally `On-Behalf-Of`) headers are provided, MUST only list Service-URLs in the Service Document for which a deposit request would be permitted",GET Service-URL
Retrieve,*,Service-URL,,,MUST respond with a valid Service Document or a suitable error response,
Retrieve,*,Object-URL,,,MUST respond with a valid Status document or a suitable error response,GET Object-URL
Retrieve,*,Object-URL,,,MUST include `ETag` header if implementing concurrency control,
Retrieve,*,Components,,,MUST include `ETag` header if implementing concurrency control,
Retrieve,*,Metadata-URL,,,MUST respond with a valid Metadata document (see definition below) or a suitable error response,GET Metadata-URL
Retrieve,*,File-URL,,,"MUST respond with a File (which may be Packaged Content, a Binary File, a Metadata document, or any other file that the server exposes) or a suitable error response",GET File-URL
Modify,*,*,"MUST provide the `Content-Disposition` header, with the appropriate value for the request",,MUST include `ETag` header if implementing concurrency control,
Modify,Body,*,,"If all preconditions are met, MUST either accept the deposit request immediately, queue the request for processing, or respond with an error",,
Modify,Body,*,MUST provide the `Content-Type` and `Digest` headers,MUST verify that the content matches the `Digest` header,MUST include one or more File-URLs for the deposited content in the Status document.  The behaviour of these File-URLs may vary depending on the type of content deposited (e.g. ByReference and Segmented Uploads do not need to be immediately retrievable),
Modify,Body,*,SHOULD provide the `Content-Length`,MUST verify that the supplied content matches the `Content-Length` if this is provided,,
Modify,Metadata,*,SHOULD provide the `Metadata-Format` header,"If no `Metadata-Format` header is provided, MUST assume this is the standard SWORD format: http://purl.org/net/sword/3.0/types/Metadata",,
Modify,Metadata,*,MUST provide only the Metadata document,,,
Modify,By-Reference,*,MUST provide the By-Reference document,"If downloading copies of the files in the By-Reference document, MUST do this asynchronously to the deposit request",,
Modify,By-Reference,File-URL,MUST only include a single By-Reference File in the By-Reference document,"If more than one By-Reference File is present, MUST reject the request.","If rejecting the request due to the presence of more than one By-Reference File in the By-Reference Document, MUST respond with a `400`",
Modify,MD+BR,*,SHOULD provide the `Metadata-Format` header,"If no `Metadata-Format` header is provided, MUST assume this is the standard SWORD format: http://purl.org/net/sword/3.0/types/Metadata",,
Modify,MD+BR,*,MUST provide the Metadata+By Reference document,"If downloading copies of the files in the By-Reference document, MUST do this asynchronously to the deposit request",,
Modify,Binary File,*,"MAY provide the `Packaging` header, and if so MUST be the Binary format identifier",The server SHOULD NOT attempt to unpack the file,,
Modify,Binary File,*,MUST provide Binary File body content,,,
Modify,Packaged Content,*,MUST provide the `Packaging` header,The server MAY attempt to unpack the file,,
Modify,Packaged Content,*,MUST provide Packaged Content in the request body,,,
Modify,Empty Body,*,MAY provide the `Content-Length` header with value `0`,,,
Modify,Empty Body,*,MUST NOT include any body content,,,
Create,*,Service-URL,MAY provide the `Slug` header,"If a `Slug` header is provided, MAY use this as the identifier for the newly created Object.","MUST respond with a `Location` header, containing the Object-URL",POST Service-URL
Create,*,Service-URL,,,MUST respond with a valid Status document or a suitable error response,
Create,*,Service-URL,,,Status document MUST be available on GET to the Object-URL in the `Location` header immediately (irrespective of whether this is a `201` or `202` response),
Create,*,Service-URL,,,"MUST respond with a `201` if the item was created immediately, a `202` if the item was queued for import, or raise an error.",
Create,Body,Service-URL,MAY provide the `In-Progress` header,"If no `In-Progress` header is provided, MUST assume that it is `false`",,
Create,Body,Service-URL,,"If `In-Progress` is `false`, SHOULD expect further updates to the item, and not progress it through any ingest workflows yet.",,
Create,Empty Body,Service-URL,MUST provide the `In-Progress` header with value `true`,"If no `In-Progress` header is provided, MUST NOT accept the request","If no `In-Progress` header is provided, MUST respond with a `412` error",
Create,Empty Body,Service-URL,,,MUST reject the request if the conditions of the upload are not acceptable,
Update,*,*,"MUST include the `If-Match` header, if the server implements concurrency control",MUST reject the request if the `If-Match` header does not match the current `ETag` of the resource,,
Delete,*,*,,,"MUST respond with a `204` if the delete is successful, or raise an error",
Update,Body,*,,,"MUST respond with a `200` if the request was accepted immediately, a `202` if the request was queued for processing, or raise an error.",
Update,Body,Object-URL,MAY provide the `In-Progress` header,"If no `In-Progress` header is provided, MUST assume that it is `false`",MUST respond with a valid Status document or a suitable error response,
Update,Body,Object-URL,,,MUST include `ETag` header if implementing concurrency control,
Update,Empty Body,Object-URL,MUST provide the `In-Progress` header with value `true`,"If no `In-Progress` header is provided, MUST NOT accept the request","If no `In-Progress` header is provided, MUST respond with a `412` error",
Update,Empty Body,Object-URL,,,MUST respond with a valid Status document or a suitable error response,
Update,Empty Body,Object-URL,,,MUST include `ETag` header if implementing concurrency control,
Update,Empty Body,Object-URL,,,"MUST respond with a `201` to indicate that the Segmented Upload has been initialised, or raise an error.",
Append,*,Object-URL,,,,POST Object-URL
Replace,*,Object-URL,,,,PUT Object-URL
Update,Body,Components,,,"MUST respond with a `204` if the replacement was deposited immediately, a `202` if the replacement was queued for import, or raise an error.",
Update,Empty Body,Components,,,"MUST respond with a `201` to indicate that the Segmented Upload has been initialised, or raise an error.",
Replace,*,Metadata-URL,,,,PUT Metadata-URL
Replace,*,FileSet-URL,,,,PUT FileSet-URL
Replace,*,File-URL,,,,PUT File-URL
Delete,*,Object-URL,,,,DELETE Object-URL
Delete,*,FileSet-URL,,,,DELETE FileSet-URL
Delete,*,File-URL,,,,DELETE File-URL
Delete,*,Metadata-URL,,,,DELETE Metadata-URL
Complete,Empty Body,Object-URL,MUST provide the header `In-Progress: false`,MAY inject the content into any ingest workflows,MUST respond with a `204` or a suitable error,POST Object-URL
Complete,Empty Body,Object-URL,MAY provide the `Content-Length` header with value `0`,,,
Complete,Empty Body,Object-URL,MUST NOT include any body content,,,